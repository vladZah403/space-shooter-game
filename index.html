<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Space Shooter</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;600;700&display=swap');
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
:root{
  --green:#00ff88;--cyan:#00d4ff;--pink:#ff0066;--gold:#ffd700;--purple:#a855f7;
  --bg:#04040f;--card:rgba(8,18,35,.95);--border:rgba(0,255,136,.25);
}
body{overflow:hidden;background:var(--bg);font-family:'Rajdhani',sans-serif;touch-action:none;user-select:none}
#gameCanvas{display:block;touch-action:none;position:absolute;inset:0}

/* ‚îÄ‚îÄ PAUSE OVERLAY ‚îÄ‚îÄ */
#pauseOverlay{position:absolute;inset:0;background:rgba(4,4,15,.85);display:none;align-items:center;justify-content:center;z-index:50;backdrop-filter:blur(16px)}
.pause-card{background:var(--card);border:1.5px solid var(--border);border-radius:20px;padding:32px 28px;text-align:center;min-width:240px;box-shadow:0 0 60px rgba(0,255,136,.15)}
.pause-title{font-family:'Orbitron',monospace;font-size:28px;color:var(--green);text-shadow:0 0 20px var(--green);margin-bottom:24px;letter-spacing:4px}
.pause-btn{display:block;width:100%;background:linear-gradient(135deg,var(--green),var(--cyan));border:none;color:#04040f;font-family:'Orbitron',monospace;font-weight:700;font-size:13px;padding:12px;border-radius:40px;cursor:pointer;letter-spacing:2px;margin-bottom:10px;transition:all .2s}
.pause-btn:active{transform:scale(.95)}
.pause-btn.secondary{background:transparent;border:1.5px solid var(--border);color:var(--green);font-size:12px}

/* ‚îÄ‚îÄ UI TOP ‚îÄ‚îÄ */
#ui{position:absolute;top:0;left:0;right:0;z-index:10;pointer-events:none;padding:10px}
.stats-row{display:flex;gap:6px;align-items:stretch}
.stat-pill{background:rgba(8,18,35,.88);border:1px solid var(--border);border-radius:10px;padding:5px 10px;backdrop-filter:blur(10px);flex:1;position:relative;overflow:hidden}
.stat-pill::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(0,255,136,.05),transparent);pointer-events:none}
.stat-lbl{font-size:8px;color:rgba(0,255,136,.5);text-transform:uppercase;letter-spacing:1px;font-family:'Orbitron',monospace}
.stat-val{font-size:17px;font-weight:700;color:var(--green);font-family:'Orbitron',monospace;line-height:1.1;text-shadow:0 0 8px rgba(0,255,136,.5)}
.stat-val.lives{color:#ff6b88;text-shadow:0 0 8px rgba(255,107,136,.5)}
.stat-val.level-val{color:var(--cyan);text-shadow:0 0 8px rgba(0,212,255,.5)}

/* Level progress */
#levelBar{height:3px;background:rgba(0,212,255,.1);border-radius:2px;overflow:hidden;margin-top:6px}
#levelFill{height:100%;background:linear-gradient(90deg,var(--cyan),var(--green));border-radius:2px;transition:width .4s ease;box-shadow:0 0 6px var(--cyan)}

/* XP bar */
#xpRow{display:flex;align-items:center;gap:8px;margin-top:5px;padding:4px 8px;background:rgba(255,215,0,.06);border-radius:8px;border:1px solid rgba(255,215,0,.1)}
.xp-lbl{font-size:9px;color:rgba(255,215,0,.6);font-family:'Orbitron',monospace;white-space:nowrap}
.xp-track{flex:1;height:3px;background:rgba(255,215,0,.1);border-radius:2px;overflow:hidden}
.xp-fill-bar{height:100%;background:linear-gradient(90deg,var(--gold),#ff9900);border-radius:2px;transition:width .4s}
.xp-lvl{font-size:10px;color:var(--gold);font-family:'Orbitron',monospace;white-space:nowrap}

/* ‚îÄ‚îÄ PAUSE BTN ‚îÄ‚îÄ */
#pauseBtn{position:absolute;top:10px;right:10px;z-index:15;pointer-events:all;width:38px;height:38px;background:rgba(8,18,35,.88);border:1px solid var(--border);border-radius:10px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;backdrop-filter:blur(10px)}
#pauseBtn:active{transform:scale(.9);border-color:var(--green)}
#pauseBtn svg{width:16px;height:16px;fill:var(--green)}

/* ‚îÄ‚îÄ COMBO ‚îÄ‚îÄ */
#comboDisplay{position:absolute;top:105px;right:10px;text-align:right;pointer-events:none;z-index:10;transition:opacity .3s,transform .3s}
.combo-word{font-size:9px;color:rgba(255,215,0,.7);font-family:'Orbitron',monospace;letter-spacing:2px}
.combo-num{font-size:32px;font-weight:900;color:var(--gold);font-family:'Orbitron',monospace;text-shadow:0 0 20px rgba(255,215,0,.6);line-height:1;animation:comboPulse .3s ease}
@keyframes comboPulse{0%{transform:scale(1.3)}100%{transform:scale(1)}}
.combo-hidden{opacity:0;transform:translateX(20px)}

/* ‚îÄ‚îÄ NOTIFICATIONS ‚îÄ‚îÄ */
#notifications{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:20;pointer-events:none;text-align:center}
.notif{font-size:20px;font-weight:700;font-family:'Orbitron',monospace;color:var(--green);text-shadow:0 0 15px var(--green);animation:notifAnim .9s forwards;white-space:nowrap}
.notif.boss{font-size:28px;color:var(--pink);text-shadow:0 0 30px var(--pink)}
.notif.gold{color:var(--gold);text-shadow:0 0 15px var(--gold);font-size:16px}
.notif.levelup{font-size:26px;color:var(--cyan);text-shadow:0 0 25px var(--cyan)}
@keyframes notifAnim{0%{opacity:0;transform:scale(.4) translateY(0)}20%{opacity:1;transform:scale(1.1) translateY(0)}60%{opacity:1;transform:scale(1) translateY(-10px)}100%{opacity:0;transform:scale(.8) translateY(-45px)}}

/* ‚îÄ‚îÄ POWERUP BAR ‚îÄ‚îÄ */
#powerupBar{position:absolute;bottom:72px;left:50%;transform:translateX(-50%);display:flex;gap:8px;z-index:10;pointer-events:none}
.pu-chip{background:rgba(8,18,35,.88);border:1.5px solid;border-radius:20px;padding:4px 12px;font-size:11px;font-weight:700;font-family:'Orbitron',monospace;display:flex;align-items:center;gap:5px}
.pu-chip.shield{border-color:var(--cyan);color:var(--cyan);box-shadow:0 0 12px rgba(0,212,255,.3)}
.pu-chip.speed{border-color:var(--gold);color:var(--gold);box-shadow:0 0 12px rgba(255,215,0,.3)}
.pu-chip.coin{border-color:#ffdd00;color:#ffdd00;box-shadow:0 0 12px rgba(255,220,0,.3)}
.pu-chip.laser{border-color:#00ffff;color:#00ffff;box-shadow:0 0 12px rgba(0,255,255,.3)}
.pu-chip.freeze{border-color:#88eeff;color:#88eeff;box-shadow:0 0 12px rgba(136,238,255,.4);animation:freezePulse .8s infinite}
@keyframes freezePulse{0%,100%{box-shadow:0 0 12px rgba(136,238,255,.4)}50%{box-shadow:0 0 22px rgba(136,238,255,.8)}}
/* Freeze screen overlay */
#freezeOverlay{position:absolute;inset:0;background:rgba(136,238,255,.06);pointer-events:none;z-index:8;display:none;animation:freezeFlash .3s ease}
@keyframes freezeFlash{from{background:rgba(136,238,255,.25)}to{background:rgba(136,238,255,.06)}}

/* ‚îÄ‚îÄ BOSS BAR ‚îÄ‚îÄ */
#bossBar{position:absolute;bottom:72px;left:10px;right:10px;z-index:10;display:none;pointer-events:none}
.boss-lbl{font-size:10px;color:var(--pink);text-align:center;margin-bottom:4px;font-family:'Orbitron',monospace;letter-spacing:2px;text-shadow:0 0 10px var(--pink);animation:bossNamePulse 1.5s infinite}
@keyframes bossNamePulse{0%,100%{opacity:1;text-shadow:0 0 10px var(--pink)}50%{opacity:.7;text-shadow:0 0 20px var(--pink),0 0 40px var(--pink)}}
.boss-track{height:8px;background:rgba(255,0,102,.1);border-radius:6px;border:1px solid rgba(255,0,102,.3);overflow:hidden}
#bossFill{height:100%;background:linear-gradient(90deg,var(--pink),#ff6b00);border-radius:6px;transition:width .3s;box-shadow:0 0 8px rgba(255,0,102,.6)}

/* ‚îÄ‚îÄ AUTO / WEAPON BAR ‚îÄ‚îÄ */
#bottomBar{position:absolute;bottom:12px;left:10px;right:10px;display:flex;align-items:center;justify-content:space-between;z-index:10;pointer-events:all}
.weapon-btn{width:50px;height:50px;background:rgba(8,18,35,.88);border:2px solid rgba(0,255,136,.2);border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;gap:1px;backdrop-filter:blur(8px)}
.weapon-btn.active{border-color:var(--green);background:rgba(0,255,136,.12);box-shadow:0 0 16px rgba(0,255,136,.3)}
.weapon-btn:active{transform:scale(.88)}
.weapon-emoji{font-size:18px;line-height:1}
.weapon-lbl{font-size:7px;color:rgba(0,255,136,.6);font-family:'Orbitron',monospace;font-weight:700}
.weapon-btn.active .weapon-lbl{color:var(--green)}
.weapons-group{display:flex;gap:6px}
#autoBtn{background:rgba(8,18,35,.88);border:1.5px solid rgba(0,255,136,.3);border-radius:20px;padding:8px 14px;color:rgba(0,255,136,.6);font-size:10px;font-family:'Orbitron',monospace;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:5px;backdrop-filter:blur(8px)}
#autoBtn.active{background:rgba(0,255,136,.15);border-color:var(--green);color:var(--green);box-shadow:0 0 12px rgba(0,255,136,.25)}
#autoBtn:active{transform:scale(.93)}

/* ‚îÄ‚îÄ ACHIEVEMENT TOAST ‚îÄ‚îÄ */
#achieveToast{position:absolute;top:80px;left:50%;transform:translateX(-50%);background:rgba(8,18,35,.96);border:1.5px solid var(--gold);border-radius:14px;padding:10px 20px;display:none;z-index:25;text-align:center;box-shadow:0 0 30px rgba(255,215,0,.3);backdrop-filter:blur(10px);animation:slideDown .4s ease}
@keyframes slideDown{from{opacity:0;transform:translateX(-50%) translateY(-20px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}
.ach-lbl{font-size:8px;color:rgba(255,215,0,.6);font-family:'Orbitron',monospace;letter-spacing:3px;margin-bottom:2px}
.ach-name{font-size:14px;font-weight:700;color:var(--gold);font-family:'Orbitron',monospace}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   SCREENS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
.screen{position:absolute;inset:0;background:rgba(4,4,15,.97);display:none;align-items:center;justify-content:center;z-index:30;backdrop-filter:blur(16px);padding:12px;overflow-y:auto}
.screen.active{display:flex}

/* Common card */
.card{background:var(--card);border:1.5px solid var(--border);border-radius:20px;padding:20px 16px;max-width:400px;width:100%;box-shadow:0 10px 60px rgba(0,255,136,.12);max-height:94vh;overflow-y:auto}

/* Screen titles */
.screen-title{font-family:'Orbitron',monospace;font-size:28px;font-weight:900;text-align:center;margin-bottom:2px;line-height:1.1}
.screen-title.green{background:linear-gradient(135deg,var(--green),var(--cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.screen-title.gold{background:linear-gradient(135deg,var(--gold),#ff9900);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.screen-title.purple{background:linear-gradient(135deg,var(--purple),#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.screen-title.cyan{background:linear-gradient(135deg,var(--cyan),var(--purple));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.screen-sub{text-align:center;font-size:9px;color:rgba(0,255,136,.4);font-family:'Orbitron',monospace;letter-spacing:3px;margin-bottom:18px}

/* Buttons */
.btn{border:none;cursor:pointer;font-family:'Orbitron',monospace;font-weight:700;letter-spacing:1.5px;border-radius:40px;transition:all .2s;display:block;width:100%;text-align:center}
.btn:active{transform:scale(.95)}
.btn-primary{background:linear-gradient(135deg,var(--green),var(--cyan));color:#04040f;font-size:14px;padding:13px;box-shadow:0 4px 20px rgba(0,255,136,.35)}
.btn-primary:disabled{background:rgba(255,255,255,.08);color:rgba(255,255,255,.25);cursor:not-allowed;box-shadow:none}
.btn-secondary{background:transparent;border:1.5px solid var(--border);color:var(--green);font-size:11px;padding:10px}
.btn-gold{border-color:rgba(255,215,0,.4);color:var(--gold)}
.btn-cyan{border-color:rgba(0,212,255,.4);color:var(--cyan)}
.btn-purple{border-color:rgba(168,85,247,.4);color:var(--purple)}
.btn-red{border-color:rgba(255,0,102,.4);color:var(--pink)}

/* ‚îÄ‚îÄ DIFFICULTY SCREEN ‚îÄ‚îÄ */
.diff-item{background:rgba(8,18,35,.6);border:1.5px solid rgba(0,255,136,.15);border-radius:14px;padding:12px 14px;margin-bottom:8px;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:12px}
.diff-item:active{transform:scale(.97)}
.diff-item.selected{border-color:var(--green);background:rgba(0,255,136,.1);box-shadow:0 0 20px rgba(0,255,136,.15)}
.diff-icon{font-size:28px;flex-shrink:0}
.diff-name{font-size:16px;font-weight:700;color:var(--green);font-family:'Orbitron',monospace;margin-bottom:2px}
.diff-desc{font-size:11px;color:rgba(255,255,255,.55)}
.diff-badge{font-size:9px;padding:2px 8px;border-radius:10px;border:1px solid;margin-left:6px;font-family:'Orbitron',monospace;vertical-align:middle}
.diff-badge.nm{color:var(--pink);border-color:var(--pink)}

.check-row{display:flex;align-items:center;gap:8px;padding:8px 4px;cursor:pointer;margin:8px 0}
.check-row input[type=checkbox]{width:16px;height:16px;accent-color:var(--green)}
.check-row label{color:var(--green);font-size:12px;font-family:'Rajdhani',sans-serif;cursor:pointer}

.menu-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:8px}
.menu-grid .btn{font-size:10px;padding:10px 6px}

/* ‚îÄ‚îÄ GAME OVER SCREEN ‚îÄ‚îÄ */
.score-block{background:rgba(8,18,35,.7);border:1px solid rgba(0,255,136,.15);border-radius:12px;padding:12px 14px;margin-bottom:8px}
.score-lbl{font-size:10px;color:rgba(0,255,136,.55);font-family:'Orbitron',monospace;letter-spacing:1px}
.score-val{font-size:26px;font-weight:900;color:var(--green);font-family:'Orbitron',monospace;text-shadow:0 0 12px rgba(0,255,136,.4)}
.score-val.record{color:var(--gold);text-shadow:0 0 12px rgba(255,215,0,.4)}
.new-record{display:inline-block;font-size:9px;color:var(--gold);border:1px solid var(--gold);border-radius:10px;padding:1px 8px;font-family:'Orbitron',monospace;margin-left:6px;animation:blink 1s infinite}
@keyframes blink{50%{opacity:.3}}
.ach-badges{display:flex;flex-wrap:wrap;gap:5px;margin:10px 0}
.ach-badge{font-size:10px;padding:3px 10px;border-radius:12px;border:1px solid;font-family:'Rajdhani',sans-serif;font-weight:700}
.ach-badge.unlocked{color:var(--gold);border-color:rgba(255,215,0,.5);background:rgba(255,215,0,.08)}
.ach-badge.locked{color:rgba(255,255,255,.25);border-color:rgba(255,255,255,.1)}
.coins-earned{text-align:center;color:var(--gold);font-size:13px;font-family:'Orbitron',monospace;padding:8px;background:rgba(255,215,0,.06);border-radius:10px;margin-bottom:10px;border:1px solid rgba(255,215,0,.15)}

/* ‚îÄ‚îÄ UPGRADE SCREEN ‚îÄ‚îÄ */
.coins-banner{text-align:center;color:var(--gold);font-size:16px;font-family:'Orbitron',monospace;margin-bottom:14px;padding:8px;background:rgba(255,215,0,.07);border-radius:10px;border:1px solid rgba(255,215,0,.2)}
.upg-item{background:rgba(8,18,35,.6);border:1.5px solid rgba(255,215,0,.15);border-radius:14px;padding:13px;margin-bottom:9px;display:flex;align-items:center;gap:10px;transition:all .2s}
.upg-item.maxed{border-color:rgba(0,255,136,.3)}
.upg-icon{font-size:26px;flex-shrink:0}
.upg-name{font-size:13px;font-weight:700;color:var(--gold);font-family:'Orbitron',monospace;margin-bottom:1px}
.upg-desc{font-size:10px;color:rgba(255,255,255,.5);margin-bottom:5px}
.upg-stars{display:flex;gap:3px;margin-bottom:0}
.star{width:11px;height:11px;border-radius:2px;background:rgba(255,215,0,.1);border:1px solid rgba(255,215,0,.25)}
.star.on{background:var(--gold);border-color:var(--gold);box-shadow:0 0 4px rgba(255,215,0,.5)}
.upg-btn{background:linear-gradient(135deg,var(--gold),#ff9900);border:none;color:#04040f;font-weight:700;font-size:11px;font-family:'Orbitron',monospace;padding:7px 12px;border-radius:20px;cursor:pointer;white-space:nowrap;flex-shrink:0;transition:all .2s}
.upg-btn:active{transform:scale(.93)}
.upg-btn:disabled{background:rgba(255,255,255,.08);color:rgba(255,255,255,.25);cursor:not-allowed}
.upg-btn.maxed{background:linear-gradient(135deg,var(--green),var(--cyan));color:#04040f}

/* ‚îÄ‚îÄ LEADERBOARD ‚îÄ‚îÄ */
.lb-row{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:12px;margin-bottom:6px;background:rgba(8,18,35,.5);border:1px solid rgba(0,212,255,.12);transition:all .2s}
.lb-row.me{border-color:rgba(0,255,136,.4);background:rgba(0,255,136,.07)}
.lb-rank{font-size:18px;font-family:'Orbitron',monospace;font-weight:900;min-width:30px;text-align:center}
.lb-info{flex:1;overflow:hidden}
.lb-name{font-size:13px;font-weight:700;color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.lb-sub{font-size:10px;color:rgba(255,255,255,.35)}
.lb-score{font-size:15px;font-weight:700;color:var(--cyan);font-family:'Orbitron',monospace}
.lb-loading{text-align:center;color:rgba(0,212,255,.5);font-size:12px;padding:20px;font-family:'Orbitron',monospace;letter-spacing:1px}

/* ‚îÄ‚îÄ CUSTOMIZE SCREEN ‚îÄ‚îÄ */
.cust-section{margin-bottom:16px}
.cust-lbl{color:var(--green);font-size:12px;font-family:'Orbitron',monospace;font-weight:700;margin-bottom:8px;display:flex;align-items:center;gap:6px;letter-spacing:1px}
.color-grid{display:grid;grid-template-columns:repeat(6,1fr);gap:6px}
.color-opt{aspect-ratio:1;border-radius:10px;border:2px solid rgba(0,255,136,.15);cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;position:relative}
.color-opt i{position:absolute;color:#fff;font-size:14px;opacity:0;transition:opacity .2s;text-shadow:0 1px 4px #0008}
.color-opt.sel{border-color:var(--green);box-shadow:0 0 14px rgba(0,255,136,.4);transform:scale(1.08)}
.color-opt.sel i{opacity:1}
.color-opt:active{transform:scale(.92)}
.shape-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
.shape-opt{background:rgba(8,18,35,.6);border:1.5px solid rgba(0,255,136,.15);border-radius:12px;padding:10px 6px;cursor:pointer;transition:all .2s;text-align:center}
.shape-opt:active{transform:scale(.94)}
.shape-opt.sel{border-color:var(--green);background:rgba(0,255,136,.12)}
.shape-name{color:var(--green);font-size:11px;font-family:'Orbitron',monospace;font-weight:700;margin-bottom:2px}
.shape-desc{color:rgba(255,255,255,.45);font-size:9px}
.style-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
.style-opt{background:rgba(8,18,35,.6);border:1.5px solid rgba(0,255,136,.15);border-radius:12px;padding:10px 6px;cursor:pointer;transition:all .2s;text-align:center}
.style-opt:active{transform:scale(.94)}
.style-opt.sel{border-color:var(--green);background:rgba(0,255,136,.12)}
.style-name{color:var(--green);font-size:11px;font-family:'Orbitron',monospace;font-weight:700;margin-bottom:2px}
.style-desc{color:rgba(255,255,255,.45);font-size:9px}
.toggle-row{display:flex;align-items:center;gap:8px;padding:6px 0;cursor:pointer}
.toggle-row input{width:16px;height:16px;accent-color:var(--green)}
.toggle-row label{color:var(--green);font-size:12px;cursor:pointer}

/* ‚îÄ‚îÄ SKIN SCREEN ‚îÄ‚îÄ */
.skin-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:12px}
.skin-item{background:rgba(8,18,35,.6);border:2px solid rgba(168,85,247,.15);border-radius:14px;padding:14px 10px;cursor:pointer;transition:all .2s;text-align:center;position:relative}
.skin-item.ok{border-color:rgba(168,85,247,.4)}
.skin-item.active{border-color:var(--purple);background:rgba(168,85,247,.12);box-shadow:0 0 18px rgba(168,85,247,.25)}
.skin-item.locked{opacity:.45;cursor:not-allowed}
.skin-icon{font-size:36px;margin-bottom:5px;display:block}
.skin-name{font-size:12px;font-weight:700;color:var(--purple);font-family:'Orbitron',monospace;margin-bottom:3px}
.skin-req{font-size:9px;color:rgba(255,255,255,.4)}
.skin-unlocked{font-size:9px;color:var(--green)}
.skin-active-badge{position:absolute;top:6px;right:6px;font-size:9px;background:rgba(0,255,136,.15);border:1px solid var(--green);border-radius:8px;padding:1px 6px;color:var(--green);font-family:'Orbitron',monospace}

/* ‚îÄ‚îÄ TOUCH HINT ‚îÄ‚îÄ */
.touch-hint{position:absolute;bottom:82px;left:50%;transform:translateX(-50%);color:rgba(0,255,136,.4);font-size:11px;font-family:'Orbitron',monospace;text-align:center;pointer-events:none;z-index:5;animation:fadeOut 4s ease forwards;letter-spacing:1px;white-space:nowrap}
@keyframes fadeOut{0%,60%{opacity:1}100%{opacity:0}}

/* ‚îÄ‚îÄ RESET CONFIRM OVERLAY ‚îÄ‚îÄ */
#resetConfirm{position:fixed;inset:0;background:rgba(4,4,15,.92);display:none;align-items:center;justify-content:center;z-index:60;backdrop-filter:blur(18px)}
#resetConfirm.show{display:flex}
.reset-card{background:var(--card);border:2px solid rgba(255,0,102,.4);border-radius:20px;padding:28px 24px;max-width:300px;width:90%;text-align:center;box-shadow:0 0 60px rgba(255,0,102,.2)}
.reset-title{font-family:'Orbitron',monospace;font-size:20px;color:var(--pink);text-shadow:0 0 15px var(--pink);margin-bottom:8px;letter-spacing:2px}
.reset-sub{font-size:12px;color:rgba(255,255,255,.5);margin-bottom:20px;line-height:1.5}
.reset-btns{display:flex;gap:10px}
.reset-btns .btn{font-size:11px;padding:11px}

/* ‚îÄ‚îÄ UPGRADE CATEGORIES ‚îÄ‚îÄ */
.upg-cat{font-size:9px;font-family:'Orbitron',monospace;color:rgba(0,255,136,.4);letter-spacing:3px;text-transform:uppercase;margin:14px 0 6px;padding:0 2px;border-bottom:1px solid rgba(0,255,136,.1);padding-bottom:4px}
.upg-cat:first-child{margin-top:0}
.upg-item.locked-upg{opacity:.5;pointer-events:none}
.upg-item.locked-upg .upg-btn{background:rgba(255,255,255,.05);color:rgba(255,255,255,.2)}
.upg-req{font-size:9px;color:rgba(255,100,100,.7);margin-top:2px}

/* ‚îÄ‚îÄ SCROLLBAR ‚îÄ‚îÄ */
::-webkit-scrollbar{width:4px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:rgba(0,255,136,.25);border-radius:2px}
::-webkit-scrollbar-thumb:hover{background:rgba(0,255,136,.45)}

/* ‚îÄ‚îÄ FLEX UTILS ‚îÄ‚îÄ */
.flex{display:flex}.gap2{gap:8px}.mt1{margin-top:8px}.mt2{margin-top:12px}.mt3{margin-top:16px}.w100{width:100%}.grow{flex:1}
</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê CANVAS ‚ïê‚ïê‚ïê -->
<canvas id="gameCanvas"></canvas>

<!-- ‚ïê‚ïê‚ïê PAUSE OVERLAY ‚ïê‚ïê‚ïê -->
<div id="pauseOverlay">
  <div class="pause-card">
    <div class="pause-title">–ü–ê–£–ó–ê</div>
    <button class="pause-btn" id="resumeBtn">‚ñ∂ –ü–†–û–î–û–õ–ñ–ò–¢–¨</button>
    <button class="pause-btn secondary" id="pauseRestartBtn">‚Ü∫ –ó–ê–ù–û–í–û</button>
    <button class="pause-btn secondary" id="pauseMenuBtn">‚ò∞ –ú–ï–ù–Æ</button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê HUD ‚ïê‚ïê‚ïê -->
<div id="ui">
  <div class="stats-row">
    <div class="stat-pill"><div class="stat-lbl">–û—á–∫–∏</div><div class="stat-val" id="scoreVal">0</div></div>
    <div class="stat-pill"><div class="stat-lbl">‚ù§Ô∏è –ñ–∏–∑–Ω–∏</div><div class="stat-val lives" id="livesVal">3</div></div>
    <div class="stat-pill"><div class="stat-lbl">–£—Ä–æ–≤–µ–Ω—å</div><div class="stat-val level-val" id="levelVal">1</div></div>
  </div>
  <div id="levelBar"><div id="levelFill" style="width:0%"></div></div>
  <div id="xpRow">
    <div class="xp-lbl">üöÄ UR.</div>
    <div class="xp-track"><div class="xp-fill-bar" id="xpFill" style="width:0%"></div></div>
    <div class="xp-lvl">–£—Ä.<span id="shipLvlVal">1</span></div>
  </div>
</div>

<!-- Pause button -->
<button id="pauseBtn" aria-label="–ü–∞—É–∑–∞">
  <svg viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
</button>

<!-- Combo -->
<div id="comboDisplay" class="combo-hidden">
  <div class="combo-word">COMBO</div>
  <div class="combo-num" id="comboVal">x2</div>
</div>

<div id="notifications"></div>
<div id="powerupBar"></div>
<div id="freezeOverlay"></div>

<!-- Boss bar -->
<div id="bossBar">
  <div class="boss-lbl">üëæ <span id="bossName">BOSS</span></div>
  <div class="boss-track"><div id="bossFill" style="width:100%"></div></div>
</div>

<!-- Bottom bar: weapons + auto -->
<div id="bottomBar">
  <div class="weapons-group">
    <div class="weapon-btn active" data-weapon="laser"><div class="weapon-emoji">üîµ</div><div class="weapon-lbl">LASER</div></div>
    <div class="weapon-btn" data-weapon="rocket"><div class="weapon-emoji">üöÄ</div><div class="weapon-lbl">ROCKET</div></div>
    <div class="weapon-btn" data-weapon="shotgun"><div class="weapon-emoji">üí•</div><div class="weapon-lbl">SHOT</div></div>
  </div>
  <button id="autoBtn" class="active">‚ö° –ê–í–¢–û</button>
</div>

<!-- Achievement toast -->
<div id="achieveToast">
  <div class="ach-lbl">üèÜ –î–û–°–¢–ò–ñ–ï–ù–ò–ï</div>
  <div class="ach-name" id="achieveName"></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     SCREENS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<!-- DIFFICULTY / MAIN MENU -->
<div id="difficultyScreen" class="screen active">
  <div class="card">
    <h1 class="screen-title green">üöÄ SPACE<br>SHOOTER</h1>
    <p class="screen-sub">–í–´–ë–ï–†–ò–¢–ï –°–õ–û–ñ–ù–û–°–¢–¨</p>
    <div class="diff-item" data-diff="easy"><div class="diff-icon">üòä</div><div><div class="diff-name">–õ–ï–ì–ö–û</div><div class="diff-desc">5 –∂–∏–∑–Ω–µ–π ‚Ä¢ –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –≤—Ä–∞–≥–∏ ‚Ä¢ –ë–æ–ª—å—à–µ –±–æ–Ω—É—Å–æ–≤</div></div></div>
    <div class="diff-item" data-diff="normal"><div class="diff-icon">üòé</div><div><div class="diff-name">–ù–û–†–ú–ê–õ–¨–ù–û</div><div class="diff-desc">3 –∂–∏–∑–Ω–∏ ‚Ä¢ –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–≥—Ä–∞</div></div></div>
    <div class="diff-item" data-diff="hard"><div class="diff-icon">üò§</div><div><div class="diff-name">–°–õ–û–ñ–ù–û</div><div class="diff-desc">2 –∂–∏–∑–Ω–∏ ‚Ä¢ –ë—ã—Å—Ç—Ä—ã–µ –≤—Ä–∞–≥–∏ ‚Ä¢ –°–∏–ª—å–Ω—ã–µ –±–æ—Å—Å—ã</div></div></div>
    <div class="diff-item" data-diff="nightmare"><div class="diff-icon">üíÄ</div><div><div class="diff-name">–ö–û–®–ú–ê–† <span class="diff-badge nm">–•–ê–†–î–ö–û–†</span></div><div class="diff-desc">1 –∂–∏–∑–Ω—å ‚Ä¢ –ë–µ–∑ –±–æ–Ω—É—Å–æ–≤ ‚Ä¢ –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ</div></div></div>
    <div class="check-row">
      <input type="checkbox" id="autoChk" checked>
      <label for="autoChk">‚ö° –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–µ–ª—å–±–∞</label>
    </div>
    <button class="btn btn-primary" id="startBtn" disabled>‚ñ∂ –ù–ê–ß–ê–¢–¨ –ò–ì–†–£</button>
    <div class="menu-grid mt2">
      <button class="btn btn-secondary" id="customBtn">üé® –°–¢–ò–õ–¨</button>
      <button class="btn btn-secondary btn-gold" id="upgradeBtn">‚ö° –ü–†–û–ö–ê–ß–ö–ê</button>
      <button class="btn btn-secondary btn-cyan" id="lbBtn">üèÜ –†–ï–ô–¢–ò–ù–ì</button>
      <button class="btn btn-secondary btn-purple" id="skinBtn">üëæ –°–ö–ò–ù–´</button>
    </div>
  </div>
</div>

<!-- GAME OVER -->
<div id="gameOverScreen" class="screen">
  <div class="card">
    <h1 class="screen-title green" style="font-size:34px;margin-bottom:4px">GAME OVER</h1>
    <p class="screen-sub">–†–ï–ó–£–õ–¨–¢–ê–¢</p>
    <div class="score-block"><div class="score-lbl">–í–ê–® –°–ß–Å–¢</div><div class="score-val" id="goScore">0</div></div>
    <div class="flex gap2">
      <div class="score-block grow"><div class="score-lbl">–£–†–û–í–ï–ù–¨</div><div class="score-val" id="goLevel" style="font-size:20px">1</div></div>
      <div class="score-block grow"><div class="score-lbl">–ú–ê–ö–° –ö–û–ú–ë–û</div><div class="score-val" id="goCombo" style="font-size:20px">x1</div></div>
    </div>
    <div class="score-block"><div class="score-lbl">üèÜ –†–ï–ö–û–†–î</div><div class="score-val record" id="goBest">0</div></div>
    <div class="coins-earned" id="goCoins">üí∞ –ú–æ–Ω–µ—Ç: 0</div>
    <div class="ach-badges" id="goAch"></div>
    <div class="flex gap2 mt2">
      <button class="btn btn-primary grow" id="restartBtn">‚Ü∫ –°–ù–û–í–ê</button>
      <button class="btn btn-secondary grow" id="menuBtn">‚ò∞ –ú–ï–ù–Æ</button>
    </div>
  </div>
</div>

<!-- UPGRADE -->
<div id="upgradeScreen" class="screen">
  <div class="card">
    <h1 class="screen-title gold">‚ö° –ü–†–û–ö–ê–ß–ö–ê</h1>
    <p class="screen-sub">–£–õ–£–ß–®–ò –ö–û–†–ê–ë–õ–¨</p>
    <div class="coins-banner">üí∞ –ú–æ–Ω–µ—Ç—ã: <span id="coinsVal">0</span></div>
    <div id="upgList"></div>
    <div class="flex gap2 mt2">
      <button class="btn btn-secondary btn-gold grow" id="backFromUpgrade">‚Üê –ù–ê–ó–ê–î</button>
      <button class="btn btn-secondary btn-red" style="width:auto;padding:10px 14px;font-size:10px" id="resetProgressBtn">üóë –°–ë–†–û–°</button>
    </div>
  </div>
</div>

<!-- LEADERBOARD -->
<div id="lbScreen" class="screen">
  <div class="card">
    <h1 class="screen-title cyan">üèÜ –†–ï–ô–¢–ò–ù–ì</h1>
    <p class="screen-sub">–ú–ò–†–û–í–´–ï –†–ï–ö–û–†–î–´</p>
    <div id="lbContent"><div class="lb-loading">‚è≥ –ó–ê–ì–†–£–ó–ö–ê...</div></div>
    <button class="btn btn-secondary btn-cyan w100 mt2" id="backFromLb">‚Üê –ù–ê–ó–ê–î</button>
  </div>
</div>

<!-- CUSTOMIZE -->
<div id="customScreen" class="screen">
  <div class="card">
    <h1 class="screen-title green" style="font-size:22px">üé® –ö–ê–°–¢–û–ú–ò–ó–ê–¶–ò–Ø</h1>
    <p class="screen-sub">–ù–ê–°–¢–†–û–ô –ö–û–†–ê–ë–õ–¨</p>

    <div class="cust-section">
      <div class="cust-lbl">üöÄ –§–æ—Ä–º–∞ –∫–æ—Ä–∞–±–ª—è</div>
      <div class="shape-grid">
        <div class="shape-opt sel" data-ship-shape="fighter"><div class="shape-name">‚öîÔ∏è –ë–û–ï–¶</div><div class="shape-desc">–ö–ª–∞—Å—Å–∏–∫–∞</div></div>
        <div class="shape-opt" data-ship-shape="arrow"><div class="shape-name">üèπ –°–¢–†–ï–õ–ê</div><div class="shape-desc">–û—Å—Ç—Ä—ã–π</div></div>
        <div class="shape-opt" data-ship-shape="diamond"><div class="shape-name">üíé –ö–†–ò–°–¢–ê–õ–õ</div><div class="shape-desc">–®–∏—Ä–æ–∫–∏–π</div></div>
      </div>
    </div>

    <div class="cust-section">
      <div class="cust-lbl">üé® –¶–≤–µ—Ç –∫–æ—Ä–∞–±–ª—è</div>
      <div class="color-grid">
        <div class="color-opt" data-ship-color="green" style="background:linear-gradient(135deg,#00ff88,#00d4ff)"><i>‚úì</i></div>
        <div class="color-opt" data-ship-color="blue" style="background:linear-gradient(135deg,#00d4ff,#0080ff)"><i>‚úì</i></div>
        <div class="color-opt" data-ship-color="purple" style="background:linear-gradient(135deg,#a855f7,#ec4899)"><i>‚úì</i></div>
        <div class="color-opt" data-ship-color="orange" style="background:linear-gradient(135deg,#ff6b00,#ff9900)"><i>‚úì</i></div>
        <div class="color-opt" data-ship-color="red" style="background:linear-gradient(135deg,#ff0066,#ff3366)"><i>‚úì</i></div>
        <div class="color-opt" data-ship-color="yellow" style="background:linear-gradient(135deg,#ffd700,#ffed4e)"><i>‚úì</i></div>
      </div>
    </div>

    <div class="cust-section">
      <div class="cust-lbl">üîµ –¶–≤–µ—Ç –ø—É–ª—å</div>
      <div class="color-grid">
        <div class="color-opt" data-bullet-color="yellow" style="background:linear-gradient(135deg,#ffff00,#ff9900)"><i>‚úì</i></div>
        <div class="color-opt" data-bullet-color="cyan" style="background:linear-gradient(135deg,#00ffff,#00d4ff)"><i>‚úì</i></div>
        <div class="color-opt" data-bullet-color="pink" style="background:linear-gradient(135deg,#ff69b4,#ff1493)"><i>‚úì</i></div>
        <div class="color-opt" data-bullet-color="green" style="background:linear-gradient(135deg,#00ff88,#00ff00)"><i>‚úì</i></div>
        <div class="color-opt" data-bullet-color="white" style="background:linear-gradient(135deg,#ffffff,#cccccc)"><i>‚úì</i></div>
        <div class="color-opt" data-bullet-color="purple" style="background:linear-gradient(135deg,#a855f7,#8b5cf6)"><i>‚úì</i></div>
      </div>
    </div>

    <div class="cust-section">
      <div class="toggle-row"><input type="checkbox" id="particlesChk" checked><label for="particlesChk">‚ú® –≠—Ñ—Ñ–µ–∫—Ç—ã —á–∞—Å—Ç–∏—Ü</label></div>
      <div class="toggle-row"><input type="checkbox" id="glowChk" checked><label for="glowChk">üí° –≠—Ñ—Ñ–µ–∫—Ç—ã —Å–≤–µ—á–µ–Ω–∏—è</label></div>
    </div>

    <div class="flex gap2 mt1">
      <button class="btn btn-primary grow" id="saveCustomBtn">‚úì –°–û–•–†–ê–ù–ò–¢–¨</button>
      <button class="btn btn-secondary grow" id="backFromCustom">‚Üê –ù–ê–ó–ê–î</button>
    </div>
  </div>
</div>

<!-- SKIN SCREEN -->
<div id="skinScreen" class="screen">
  <div class="card">
    <h1 class="screen-title purple">üëæ –°–ö–ò–ù–´</h1>
    <p class="screen-sub">–û–ë–õ–ò–ö –ö–û–†–ê–ë–õ–Ø</p>
    <div class="skin-grid" id="skinGrid"></div>
    <button class="btn btn-secondary btn-purple w100" id="backFromSkin">‚Üê –ù–ê–ó–ê–î</button>
  </div>
</div>

<!-- RESET CONFIRM OVERLAY -->
<div id="resetConfirm">
  <div class="reset-card">
    <div class="reset-title">‚ö†Ô∏è –°–ë–†–û–°</div>
    <div class="reset-sub">–í–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω: –º–æ–Ω–µ—Ç—ã, –ø—Ä–æ–∫–∞—á–∫–∞, —É—Ä–æ–≤–µ–Ω—å –∫–æ—Ä–∞–±–ª—è, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, —Ä–µ–∫–æ—Ä–¥—ã.</div>
    <div class="reset-btns">
      <button class="btn btn-primary grow" id="resetCancelBtn">‚úï –û–¢–ú–ï–ù–ê</button>
      <button class="btn btn-secondary btn-red grow" id="resetConfirmBtn">üóë –°–ë–†–û–°</button>
    </div>
  </div>
</div>

<script src="game-code.js"></script>
<script src="game-improvements.js"></script>
<script src="telegram-integration.js"></script>
</body>
</html>